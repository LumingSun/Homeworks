# TSP-using-Astar-algorithm
Solving TSP problem using Astar algorithm

## 1.Input
        Example of input file name: data_51 (coordinate information of 51 cities)
        1 37 52
        2 49 49
        ......
        50 56 37
        51 30 40

## 2.Output
        solving tsp using way **
        my result: [1, 32 ,......, 20, 35, 36, 22, 43]
        my distance: 513.610006885

## 3.Algorithm of H
        (1)average of distance from present node to nodes which are not included in close list
        (2)numbers of nodes which are not included in close list * average of distance from present node to nodes which  
           are not included in  close list
        (3)sqrt(numbers of nodes which are not included in close list * average of distance from present node to nodes  
           which are not included in  close list)
        (4)minimum of distance from present node to nodes which are not included in close list
        (5)numbers of nodes which are not included in close list * minimum of distance from present node to nodes which 
           are not included in close list
        (6)sqrt(numbers of nodes which are not included in close list * minimum of distance from present node to nodes  
           which are not included in close list)
        (7)a random number from range of minimum to maximum of the distance map
        (8)H = 0 (F = G)
        (9)sum of (3) and (6)

## 4.Illustration
        (1)class Node was created to describe a node, which includes No, father, F, G, H, depth, and flags of close and open
        (2)dist_map.py transform a input file into a distance matrix
        (3)my_list.py return close list and open list and numbers in these two lists
        (4)choose_a_way.py calculate G, F, and H of every node and return a node that is lowest in F using appointed way
        (5)distance.py return sum of distance according to a input list of tsp solution
        (6)tsp_test is the main .py file which print results and the distance matrix
       
## 结果
        (1)9种方法计算51个结点的TSP路径和总距离共耗时1.3347351551055908，老师给出的最优解结果是426，我根据最优解路径计算  
           的float值是429.983311983，9种启发式策略中，最优解是513.610006885，但比较意外的是，这个最优解是在H=0，也就是  
           F=G的时候取得的，其他几种方法在51个点的TSP问题是结果均不如此种方法。
           路径是：[1, 32, 11, 38, 5, 49, 9, 50, 16, 2, 29, 21, 34, 30, 10, 39, 33, 45, 15, 44, 37, 17, 4, 18, 47, 12, 
           46, 51, 27, 48, 6, 14, 25, 13, 41, 19, 42, 40, 24, 23, 7, 26, 8, 31, 28, 3, 20, 35, 36, 22, 43]
        (2)9种方法计算318个结点的TSP路径和总距离共耗时173.71571969985962，最优解是sqrt(now_city_num * average)方法，长度
           为50905.4401847。路径是：[1, 2, 6, 7, 10, 11, 15, 103, 21, 22, 29, 30, 31, 32, 33, 28, 23, 20, 19, 24, 27, 26, 
           25, 18, 16, 17, 9, 8, 3, 12, 36, 37, 42, 43, 46, 52, 53, 58, 57, 54, 51, 47, 44, 41, 104, 40, 45, 48, 50, 55, 
           56, 59, 105, 62, 63, 70, 74, 75, 81, 69, 73, 76, 80, 79, 77, 72, 68, 67, 71, 78, 82, 83, 84, 85, 86, 89, 90, 
           99, 98, 93, 92, 91, 96, 97, 101, 102, 64, 49, 316, 317, 39, 38, 145, 150, 153, 155, 160, 161, 164, 210, 162, 
           159, 156, 152, 149, 146, 148, 151, 157, 158, 163, 167, 168, 175, 179, 180, 186, 174, 178, 181, 185, 184, 182, 
           177, 172, 173, 176, 183, 187, 188, 189, 190, 191, 194, 195, 204, 203, 198, 197, 196, 201, 202, 206, 207, 100, 
           95, 94, 88, 87, 66, 65, 61, 60, 154, 209, 141, 142, 147, 144, 143, 250, 255, 258, 260, 265, 266, 269, 315, 267, 
           264, 261, 257, 254, 251, 253, 256, 262, 263, 268, 272, 273, 279, 284, 285, 291, 280, 283, 286, 290, 287, 289, 
           282, 277, 278, 281, 288, 292, 293, 294, 295, 192, 193, 301, 302, 306, 307, 311, 312, 205, 200, 199, 303, 296, 
           299, 300, 309, 308, 305, 304, 310, 298, 297, 276, 275, 271, 270, 318, 249, 248, 245, 244, 224, 223, 215, 214, 
           219, 218, 222, 230, 233, 238, 240, 241, 242, 239, 232, 231, 313, 225, 221, 220, 217, 216, 109, 110, 212, 211, 
           213, 118, 119, 139, 140, 243, 237, 234, 229, 226, 228, 235, 236, 227, 246, 247, 252, 314, 259, 165, 166, 170, 
           171, 274, 169, 138, 133, 128, 125, 208, 126, 127, 134, 135, 136, 137, 34, 35, 14, 13, 116, 115, 112, 111, 107, 
           106, 4, 5, 120, 117, 124, 129, 132, 130, 123, 121, 122, 131, 113, 114, 108]
        (3)400个结点总耗时362.3537690639496，方法8时取得最优解是23703.3598102，路径为：[1, 201, 4, 169, 45, 256, 34, 286, 
           347, 258, 121, 375, 181, 44, 128, 8, 335, 91, 149, 193, 338, 55, 168, 40, 109, 246, 133, 249, 239, 38, 145, 
           175, 229, 349, 313, 383, 261, 225, 315, 287, 392, 41, 71, 127, 185, 88, 244, 51, 238, 165, 232, 90, 79, 162, 
           102, 252, 263, 236, 211, 357, 234, 199, 77, 284, 400, 289, 348, 278, 87, 312, 187, 243, 340, 153, 343, 65, 84, 
           398, 53, 95, 369, 197, 29, 25, 200, 331, 389, 381, 190, 159, 85, 359, 156, 204, 210, 319, 83, 50, 394, 18, 305, 
           233, 182, 217, 172, 267, 134, 364, 94, 235, 241, 81, 70, 333, 219, 74, 140, 188, 365, 399, 97, 380, 334, 355, 
           248, 318, 231, 291, 99, 386, 111, 166, 368, 274, 215, 257, 22, 367, 358, 157, 339, 273, 56, 275, 203, 92, 360, 
           354, 299, 385, 139, 2, 122, 265, 382, 73, 212, 280, 80, 228, 226, 281, 5, 255, 14, 52, 141, 260, 377, 28, 378, 
           269, 250, 106, 326, 82, 270, 75, 220, 170, 218, 27, 126, 12, 43, 376, 321, 63, 297, 176, 223, 388, 262, 31, 
           242, 10, 189, 373, 135, 93, 330, 195, 314, 390, 332, 132, 11, 100, 345, 329, 62, 254, 362, 32, 59, 224, 245, 
           363, 130, 311, 307, 158, 344, 327, 113, 350, 101, 396, 320, 397, 276, 251, 110, 293, 148, 60, 142, 124, 48, 
           253, 123, 47, 206, 35, 271, 184, 154, 279, 36, 119, 213, 342, 49, 58, 6, 151, 107, 196, 160, 64, 316, 69, 341, 
           21, 15, 301, 328, 26, 167, 129, 120, 336, 216, 285, 214, 295, 39, 304, 115, 222, 247, 117, 186, 17, 317, 173, 
           13, 19, 384, 298, 42, 391, 118, 30, 76, 7, 72, 323, 230, 346, 379, 136, 288, 98, 240, 24, 306, 268, 67, 205, 
           155, 202, 178, 309, 237, 161, 290, 147, 66, 227, 179, 96, 103, 57, 20, 371, 104, 143, 370, 310, 303, 194, 33, 
           105, 171, 294, 150, 138, 177, 144, 198, 208, 325, 86, 183, 283, 372, 46, 302, 292, 322, 351, 374, 78, 324, 61, 
           264, 112, 352, 9, 137, 300, 68, 23, 191, 209, 272, 387, 3, 207, 361, 393, 266, 353, 125, 146, 16, 116, 337, 37, 
           221, 131, 296, 152, 180, 192, 366, 114, 174, 163, 356, 54, 395, 282, 164, 89, 259, 308, 277, 108]
            
## 思考
        (1)虽然Node里有open和close属性，但对于TSP问题，结点不在close表就在open表，所以其实只需要一个属性来表示结点在open  
           表还是close表就可以。
        (2)通过本次实验，还学习掌握了github的使用方法和写.md的方法，并能通过pycharm直接进行代码管理。
        (3)其实本次实验的代码还可以继续精简，在选择启发式搜索策略时策略选择过程还可以再优化一下。